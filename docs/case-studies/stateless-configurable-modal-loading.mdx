import StatelessProductEditModal from '@site/src/components/stateless-product-edit-modal/components/stateless-product-edit-modal';
import LiveJsxPlayground from '@site/src/components/live-jsx-playground/live-jsx-playground';
import ApiReferenceDrawer from '@site/src/components/docs/api-reference-drawer';
import mockData from '@site/src/components/demo-modal/mockData';

export const firstSku = mockData.skuVariants.availableSkus[0];

export const componentCode = String.raw`<StatelessProductEditModal
  mainHeading="BuyMeNot Sneakers"
  productName="BuyMeNot Sneakers"
  initialImageUrl={initializationData.initialImageUrl}
  initialColorCode={null}
  initialSize={null}
  initialListPrice={initializationData.initialListPrice}
  initialSalePrice={initializationData.initialSalePrice}
  skuVariants={{}}
  onDismiss={() => {}}
/>`;

export const initializationCode = String.raw`(() => {
  const firstSku = skuCombinationsResponse.skuVariants.availableSkus[0];
  return {
    initialImageUrl: skuCombinationsResponse.skuVariants.imagesByColorCode[firstSku.colorCode][0],
    initialListPrice: firstSku.listPrice,
    initialSalePrice: firstSku.salePrice,
  };
})()`;

export const defaultScenarioPlaygroundDataCode = String.raw`{
  productSummary: {
    productId: "${mockData.productSummary.productId}",
    displayName: "BuyMeNot Sneakers",
  },
  skuVariants: {
    colors: [
      { colorCode: "ffffff", displayName: "White", available: true },
      { colorCode: "444444", displayName: "Graphite", available: true },
    ],
    sizes: [
      { size: "10", available: true },
      { size: "11", available: true },
      { size: "12", available: true },
    ],
    availableSkus: [
      { id: "1", colorCode: "ffffff", size: "10", listPrice: "128.00", salePrice: "98.00", available: true },
      { id: "2", colorCode: "ffffff", size: "11", listPrice: "128.00", available: false },
      { id: "3", colorCode: "ffffff", size: "12", listPrice: "128.00", available: true },
      { id: "4", colorCode: "444444", size: "10", listPrice: "128.00", available: false },
      { id: "5", colorCode: "444444", size: "11", listPrice: "128.00", available: true },
      { id: "6", colorCode: "444444", size: "12", listPrice: "128.00", available: true },
    ],
    imagesByColorCode: {
      "ffffff": [...mockData.skuVariants.imagesByColorCode["ffffff"]],
      "444444": [...mockData.skuVariants.imagesByColorCode["444444"]],
    },
  },
}`;

# Stateless Configurable Modal – Loading State Variants

<ApiReferenceDrawer />

## Loading State Demo

<small>
  Available information is rendered immediately, while the section that depends on remote data is hidden until the response arrives and that part can be fully composed.
</small>

<small className="subtle-attention-text">Resize to see responsive behavior from mobile through desktop.</small>

<LiveJsxPlayground
  title="Live Demo"
  initialCode={componentCode}
  initialInitializationCode={initializationCode}
  initializationVarName="initializationData"
  initializationTitle="Initialization Data"
  initialDataCode={defaultScenarioPlaygroundDataCode}
  dataVarName="skuCombinationsResponse"
  dataTitle="SKU Combinations Response"
  scope={{ StatelessProductEditModal, mockData }}
/>

## Loading Variant: Missing Core Display Context

<small>
  This variant intentionally omits image, heading, product name, color and size to show the fallback loading shell with minimal initial context.
</small>

<StatelessProductEditModal
  mainHeading=""
  productName=""
  initialImageUrl={null}
  initialColorCode={null}
  initialSize={null}
  initialListPrice={null}
  initialSalePrice={null}
  skuVariants={{}}
  onDismiss={() => {}}
/>

<a
  href="/cromagnoli/case-studies/stateless-configurable-modal"
  style={{ display: 'inline-block', marginTop: 20 }}
>
  « Back to Stateless Configurable Modal index
</a>
